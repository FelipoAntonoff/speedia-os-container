"use strict";(self["webpackChunksos_dash"]=self["webpackChunksos_dash"]||[]).push([[381],{16789:(e,a,l)=>{l.r(a),l.d(a,{default:()=>ye});var t=l(59835),s=l(60499),n={class:"flex justify-between items-center"};function o(e,a){var l=(0,t.up)("q-skeleton");return(0,t.wg)(),(0,t.iD)(t.HY,null,[(0,t.Wm)(l,{animation:"wave",height:"50px",width:"30%",class:"q-mx-md"}),(0,t._)("div",n,[((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(9,(function(e){return(0,t.Wm)(l,{animation:"wave",height:"200px",width:"30%",class:"q-ma-md",key:e})})),64))])],64)}var i=l(11639),r=l(57133),p=l(69984),c=l.n(p);const u={},d=(0,i.Z)(u,[["render",o]]),m=d;c()(u,"components",{QSkeleton:r.ZP});var g=l(86970),v=l(62601);const w={class:"flex justify-start items-center q-gutter-md"},b=["src"],f={class:"text-capitalize",style:{"font-size":"1.618rem"}},h={style:{"font-size":"0.9708rem"}},_=["src","onClick"],y=(0,t.aZ)({__name:"MarketplaceAppCard",props:{app:{}},setup(e){const a=e,l=(0,v.R)(),n=(0,s.iH)(0),o=(0,t.Fl)({get:()=>l.getShowSlideDialog,set:e=>l.setShowSlideDialog(e)}),i=(0,t.Fl)({get:()=>l.getSelectedScreenshotIndex,set:e=>l.setSelectedScreenshotIndex(e)}),r=(0,t.Fl)({get:()=>l.getScreenshotUrlsList,set:e=>l.setScreenshotUrlsList(e)});function p(e){i.value=e,r.value=a.app.screenshotUrls,o.value=!0}function c(){l.setSelectedAppToInstall(a.app),l.setShowInstallAppDialog(!0)}return(e,a)=>{const l=(0,t.up)("q-card-section"),s=(0,t.up)("q-btn"),o=(0,t.up)("q-card-actions"),i=(0,t.up)("q-card");return(0,t.wg)(),(0,t.j4)(i,{bordered:"",class:"q-px-md",style:{height:"350px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{class:"q-px-none"},{default:(0,t.w5)((()=>[(0,t._)("div",w,[(0,t._)("img",{src:e.app.avatarUrl,style:{width:"45px",height:"45px"}},null,8,b),(0,t._)("div",f,(0,g.zw)(e.app.name),1)])])),_:1}),(0,t.Wm)(l,{class:"q-px-none q-pt-none"},{default:(0,t.w5)((()=>[(0,t._)("div",h,(0,g.zw)(e.app.description.length>200?e.app.description.substr(0,200)+"...":e.app.description),1)])),_:1}),(0,t.Wm)(l,{class:"q-px-none"},{default:(0,t.w5)((()=>[(0,t._)("div",{class:"flex justify-between items-center",style:(0,g.j5)({visibility:e.app.screenshotUrls.length>0?"visible":"hidden"})},[(0,t.Wm)(s,{round:"",flat:"",class:(0,g.C_)({disabled:0===n.value}),icon:"sym_s_arrow_back_ios",color:"primary",size:"xs",onClick:a[0]||(a[0]=e=>n.value=Math.max(n.value-1,0))},null,8,["class"]),((0,t.wg)(),(0,t.iD)(t.HY,null,(0,t.Ko)(3,(a=>(0,t._)("div",{key:a},[(0,t._)("img",{src:e.app.screenshotUrls[n.value+a-1],style:{width:"auto",height:"65px"},class:"cursor-pointer",onClick:e=>p(n.value+a-1)},null,8,_)]))),64)),(0,t.Wm)(s,{round:"",flat:"",class:(0,g.C_)({disabled:n.value+3===e.app.screenshotUrls.length}),color:"primary",icon:"sym_s_arrow_forward_ios",size:"xs",onClick:a[1]||(a[1]=a=>n.value=Math.min(n.value+1,e.app.screenshotUrls.length-3))},null,8,["class"])],4)])),_:1}),(0,t.Wm)(o,{class:"q-px-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{color:"primary",label:e.$t("marketplaceAppCard.installBtn"),class:"full-width",onClick:a[2]||(a[2]=e=>c())},null,8,["label"])])),_:1})])),_:1})}}});var k=l(44458),q=l(63190),W=l(68879),Z=l(11821);const x=y,Q=x;c()(y,"components",{QCard:k.Z,QCardSection:q.Z,QBtn:W.Z,QCardActions:Z.Z});const S={class:"row justify-center q-mt-md"},V=(0,t.aZ)({__name:"MarketplaceCatalogTable",props:{catalogList:{}},setup(e){const a=e,l=(0,s.iH)(""),n=(0,s.iH)({sortBy:"desc",descending:!1,page:1,rowsPerPage:12}),o=(0,t.Fl)((()=>Math.ceil(a.catalogList.length/n.value.rowsPerPage)));return(e,a)=>{const s=(0,t.up)("q-icon"),i=(0,t.up)("q-input"),r=(0,t.up)("q-table"),p=(0,t.up)("q-pagination"),c=(0,t.up)("q-card-section"),u=(0,t.up)("q-card");return(0,t.wg)(),(0,t.j4)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(c,{class:"q-pt-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{grid:"","card-container-class":"marketplace-align-cards","hide-header":"",rows:e.catalogList,filter:l.value,"row-key":"key",color:"primary",pagination:n.value,"onUpdate:pagination":a[1]||(a[1]=e=>n.value=e),"no-data-label":e.$t("marketplaceTable.notFound"),"hide-pagination":"",class:"marketplace-table"},{top:(0,t.w5)((()=>[(0,t.Wm)(i,{filled:"",debounce:"300",color:"primary",modelValue:l.value,"onUpdate:modelValue":a[0]||(a[0]=e=>l.value=e),"stack-label":"",label:e.$t("marketplaceTable.inputSearch"),maxlength:"32",class:"marketplace-col-app q-mb-md"},{prepend:(0,t.w5)((()=>[(0,t.Wm)(s,{name:"fas fa-search"})])),_:1},8,["modelValue","label"])])),item:(0,t.w5)((e=>[(0,t.Wm)(Q,{app:e.row,class:"marketplace-col-app"},null,8,["app"])])),_:1},8,["rows","filter","pagination","no-data-label"]),(0,t._)("div",S,[(0,t.Wm)(p,{modelValue:n.value.page,"onUpdate:modelValue":a[2]||(a[2]=e=>n.value.page=e),color:"primary",max:o.value,size:"md"},null,8,["modelValue","max"])])])),_:1})])),_:1})}}});var C=l(84277),I=l(13119),D=l(22857),A=l(80996);const U=V,F=U;c()(V,"components",{QCard:k.Z,QCardSection:q.Z,QTable:C.Z,QInput:I.Z,QIcon:D.Z,QPagination:A.Z});const L=(0,t.aZ)({__name:"MarketplaceCatalog",props:{catalogList:{}},setup(e){const a=e,l=(0,s.iH)(14),n=(0,s.iH)("apps"),o=(0,t.Fl)((()=>a.catalogList.filter((e=>"app"===e.type)))),i=(0,t.Fl)((()=>a.catalogList.filter((e=>"stack"===e.type)))),r=(0,t.Fl)((()=>a.catalogList.filter((e=>"framework"===e.type))));return(e,a)=>{const s=(0,t.up)("q-tab"),p=(0,t.up)("q-tabs"),c=(0,t.up)("q-tab-panel"),u=(0,t.up)("q-tab-panels"),d=(0,t.up)("q-splitter"),m=(0,t.up)("q-card");return(0,t.wg)(),(0,t.j4)(m,{flat:""},{default:(0,t.w5)((()=>[(0,t.Wm)(d,{modelValue:l.value,"onUpdate:modelValue":a[2]||(a[2]=e=>l.value=e),style:{height:"100vh"}},{before:(0,t.w5)((()=>[(0,t.Wm)(p,{modelValue:n.value,"onUpdate:modelValue":a[0]||(a[0]=e=>n.value=e),vertical:"",class:"text-primary","active-color":"primary","indicator-color":"primary",align:"justify","inline-label":"","no-caps":""},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{name:"apps",class:"marketplace-tabs",label:"Apps",disable:0===o.value.length},null,8,["disable"]),(0,t.Wm)(s,{name:"stacks",class:"marketplace-tabs",label:"Stacks",disable:0===i.value.length},null,8,["disable"]),(0,t.Wm)(s,{name:"frameworks",class:"marketplace-tabs",label:"Frameworks",disable:0===r.value.length},null,8,["disable"])])),_:1},8,["modelValue"])])),after:(0,t.w5)((()=>[(0,t.Wm)(u,{modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=e=>n.value=e),animated:"","keep-alive":"",vertical:""},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{class:"q-pa-none",name:"apps"},{default:(0,t.w5)((()=>[(0,t.Wm)(F,{catalogList:o.value},null,8,["catalogList"])])),_:1}),(0,t.Wm)(c,{class:"q-pa-none",name:"stacks"},{default:(0,t.w5)((()=>[(0,t.Wm)(F,{catalogList:i.value},null,8,["catalogList"])])),_:1}),(0,t.Wm)(c,{class:"q-pa-none",name:"frameworks"},{default:(0,t.w5)((()=>[(0,t.Wm)(F,{catalogList:r.value},null,8,["catalogList"])])),_:1})])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])),_:1})}}});var j=l(7498),T=l(47817),H=l(70900),z=l(89800),P=l(84106);const M=L,$=M;c()(L,"components",{QCard:k.Z,QSplitter:j.Z,QTabs:T.Z,QTab:H.Z,QTabPanels:z.Z,QTabPanel:P.Z});var B=l(97510);const K={class:"flex justify-between items-center"},R={class:"title-h6"},Y=["name","src"],E=(0,t.aZ)({__name:"MarketplaceSlideDialog",setup(e){const a=(0,v.R)(),l=(0,t.Fl)({get:()=>a.getSelectedScreenshotIndex,set:e=>a.setSelectedScreenshotIndex(e)}),s=(0,t.Fl)({get:()=>a.getShowSlideDialog,set:e=>a.setShowSlideDialog(e)}),n=(0,t.Fl)({get:()=>a.getScreenshotUrlsList,set:e=>a.setScreenshotUrlsList(e)});function o(){s.value=!1}return(e,a)=>{const i=(0,t.up)("q-btn"),r=(0,t.up)("q-carousel"),p=(0,t.up)("q-card-section"),c=(0,t.up)("q-card"),u=(0,t.up)("q-dialog");return(0,t.wg)(),(0,t.j4)(u,{modelValue:s.value,"onUpdate:modelValue":a[2]||(a[2]=e=>s.value=e),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{class:"dialog-card-bg",style:{width:"1200px","max-width":"80vw"}},{default:(0,t.w5)((()=>[(0,t._)("div",K,[(0,t._)("div",R,(0,g.zw)(l.value+1)+" / "+(0,g.zw)(n.value.length),1),(0,t.Wm)(i,{flat:"",round:"",dense:"",icon:"sym_s_close",onClick:a[0]||(a[0]=e=>o())})]),(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Wm)(r,{swipeable:"",animated:"",modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=e=>l.value=e),arrows:"","control-color":"primary","control-text-color":"white","control-type":"regular",style:{height:"auto"}},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(n.value,((e,a)=>((0,t.wg)(),(0,t.iD)("img",{key:a,name:a,src:e,style:{width:"100%"}},null,8,Y)))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}});var N=l(32074),X=l(97052);const G=E,J=G;c()(E,"components",{QDialog:N.Z,QCard:k.Z,QBtn:W.Z,QCardSection:q.Z,QCarousel:X.Z});var O=l(88850),ee=l(21647),ae=l(84278),le=l(9704),te=l(88900),se=l(25121),ne=l(45273);const oe={class:"flex justify-between items-center"},ie={class:"title-dialog"},re={key:0,class:"marketplace-data-fields-box"},pe={class:"flex justify-between items-center q-mb-md"},ce={class:"title-h6"},ue=(0,t.aZ)({__name:"MarketplaceInstallAppDialog",setup(e){const a=(0,v.R)(),l=(0,se.QT)().t,n=(0,s.iH)(""),o=(0,s.iH)(""),i=(0,s.iH)([]),r=(0,t.Fl)({get:()=>a.getShowInstallAppDialog,set:e=>a.setShowInstallAppDialog(e)}),p=(0,t.Fl)((()=>a.getSelectedAppToInstall)),c=(0,t.Fl)({get:()=>a.getKeyMarketplaceTable,set:e=>a.setKeyMarketplaceTable(e)});function u(){r.value=!1}function d(){(0,ne.Q)();const e={id:p.value.id,hostname:o.value};n.value&&(e.installDirectory=n.value),i.value.length>0&&(e.dataFields=i.value);const a=new le.Z;a.installApp(e).then((()=>{(0,te.LX)(l("marketplaceInstallAppDialog.installAppSuccess")),setTimeout((()=>{u(),c.value++}),1e3)})).catch((e=>{console.error(e),(0,te.s9)(e.response.data,l("marketplaceInstallAppDialog.installAppWithError"))})).finally((()=>{(0,ne.Z)()}))}return(e,a)=>{const l=(0,t.up)("q-btn"),s=(0,t.up)("q-tooltip"),c=(0,t.up)("q-icon"),m=(0,t.up)("q-card-section"),v=(0,t.up)("q-card-actions"),w=(0,t.up)("q-card"),b=(0,t.up)("q-dialog");return(0,t.wg)(),(0,t.j4)(b,{modelValue:r.value,"onUpdate:modelValue":a[5]||(a[5]=e=>r.value=e),persistent:""},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{class:"dialog-card-bg",style:{width:"1000px","max-width":"80vw"}},{default:(0,t.w5)((()=>[(0,t._)("div",oe,[(0,t._)("div",ie,(0,g.zw)(e.$t("marketplaceInstallAppDialog.title",{appName:p.value.name})),1),(0,t.Wm)(l,{flat:"",round:"",dense:"",icon:"sym_s_close",onClick:a[0]||(a[0]=e=>u())})]),(0,t.Wm)(m,{class:"q-px-none"},{default:(0,t.w5)((()=>[(0,t.Wm)(ee.Z,{class:"q-mb-md","onUpdate:selectedHostname":a[1]||(a[1]=e=>o.value=e),"onUpdate:installDirectory":a[2]||(a[2]=e=>n.value=e)}),p.value.dataFields.length>0?((0,t.wg)(),(0,t.iD)("div",re,[(0,t._)("div",pe,[(0,t._)("div",ce,(0,g.zw)(e.$t("marketplaceInstallAppDialog.installParams")),1),(0,t.Wm)(c,{name:"sym_s_help",class:"text-white",size:"sm"},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{anchor:"bottom middle",class:"bg-primary",style:{"font-size":"14px"},offset:[10,10]},{default:(0,t.w5)((()=>[(0,t.Uk)((0,g.zw)(e.$t("marketplaceInstallAppDialog.descriptionInstallParams")),1)])),_:1})])),_:1})]),((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(p.value.dataFields,((e,a)=>((0,t.wg)(),(0,t.iD)("div",{key:a,class:"q-mb-md"},[(0,t.Wm)(O.Z,{style:{width:"100%"},isRequired:e.isRequired,defaultValue:e.defaultValue,label:e.label,options:e.options,type:e.type,name:e.name,"onUpdate:dataFields":e=>i.value[a]=e},null,8,["isRequired","defaultValue","label","options","type","name","onUpdate:dataFields"])])))),128))])):(0,t.kq)("",!0)])),_:1}),(0,t.Wm)(v,{class:"q-px-none q-pt-none",align:"between"},{default:(0,t.w5)((()=>[(0,t.Wm)(ae.Z,{color:"grey-8",label:e.$t("marketplaceInstallAppDialog.cancelBtn"),onClick:a[3]||(a[3]=e=>u())},null,8,["label"]),(0,t.Wm)(ae.Z,{color:"primary",label:e.$t("marketplaceInstallAppDialog.confirmBtn"),disable:null===p.value||""===o.value,onClick:a[4]||(a[4]=e=>d())},null,8,["label","disable"])])),_:1})])),_:1})])),_:1},8,["modelValue"])}}});var de=l(46858);const me=ue,ge=me;c()(ue,"components",{QDialog:N.Z,QCard:k.Z,QBtn:W.Z,QCardSection:q.Z,QIcon:D.Z,QTooltip:de.Z,QCardActions:Z.Z});var ve=l(84019);const we={style:{padding:"0 16px"}},be=(0,t.aZ)({__name:"MarketplaceIndex",setup(e){const a=(0,se.QT)().t,l=(0,v.R)(),n=new le.Z,o=(0,s.iH)("installed-apps"),i=(0,s.iH)([]),r=(0,s.iH)([]),p=(0,s.iH)(0),c=(0,s.iH)(!1),u=(0,s.iH)(!1),d=(0,t.Fl)((()=>c.value||u.value)),g=(0,t.Fl)((()=>l.getKeyMarketplaceTable)),w=(0,t.Fl)((()=>l.getShowInstallAppDialog));function b(){c.value=!0,n.getCatalog().then((e=>{i.value=e.data.body})).catch((e=>{console.error(e),(0,te.s9)(e.response.data,a("marketplaceIndex.getCatalogWithError"))})).finally((()=>{c.value=!1}))}function f(){u.value=!0,n.getInstalledApps().then((e=>{r.value=e.data.body})).catch((e=>{console.error(e),(0,te.s9)(e.response.data,a("marketplaceIndex.getInstalledAppsWithError"))})).finally((()=>{u.value=!1}))}return(0,t.bv)((()=>{b(),f()})),(0,t.YP)(g,(()=>{b(),f()})),(0,t.YP)(w,(()=>{!1!==w.value&&p.value++})),(e,a)=>{const l=(0,t.up)("q-tab"),s=(0,t.up)("q-tabs"),n=(0,t.up)("q-separator"),c=(0,t.up)("q-tab-panel"),u=(0,t.up)("q-tab-panels"),g=(0,t.up)("q-card"),v=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(v,null,{default:(0,t.w5)((()=>[(0,t.Wm)(J),((0,t.wg)(),(0,t.j4)(ge,{key:p.value})),(0,t.Wm)(ve.Z),(0,t._)("div",we,[d.value?((0,t.wg)(),(0,t.j4)(m,{key:0})):((0,t.wg)(),(0,t.j4)(g,{key:1,flat:""},{default:(0,t.w5)((()=>[(0,t.Wm)(s,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),class:"text-primary","active-color":"primary","indicator-color":"primary",align:"justify","inline-label":""},{default:(0,t.w5)((()=>[(0,t.Wm)(l,{name:"installed-apps",class:"marketplace-tabs",label:e.$t("marketplaceIndex.installedApps")},null,8,["label"]),(0,t.Wm)(l,{name:"catalog",class:"marketplace-tabs",label:e.$t("marketplaceIndex.catalog")},null,8,["label"])])),_:1},8,["modelValue"]),(0,t.Wm)(n),(0,t.Wm)(u,{modelValue:o.value,"onUpdate:modelValue":a[1]||(a[1]=e=>o.value=e),animated:"",swipeable:"","transition-prev":"jump-up","transition-next":"jump-up"},{default:(0,t.w5)((()=>[(0,t.Wm)(c,{name:"installed-apps"},{default:(0,t.w5)((()=>[(0,t.Wm)(B.Z,{installedAppsList:r.value,showInstallAppBtn:!1},null,8,["installedAppsList"])])),_:1}),(0,t.Wm)(c,{name:"catalog"},{default:(0,t.w5)((()=>[(0,t.Wm)($,{catalogList:i.value},null,8,["catalogList"])])),_:1})])),_:1},8,["modelValue"])])),_:1}))])])),_:1})}}});var fe=l(69885),he=l(50926);const _e=be,ye=_e;c()(be,"components",{QPage:fe.Z,QCard:k.Z,QTabs:T.Z,QTab:H.Z,QSeparator:he.Z,QTabPanels:z.Z,QTabPanel:P.Z})}}]);