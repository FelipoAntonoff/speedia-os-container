package componentForm

templ SubmitButton(
	label, icon, onClick string, denseMode bool,
) {
	<button
		type="submit"
		if onClick != "" {
			@click={ onClick }
		}
		if denseMode {
			class="bg-speedia-500 hover:bg-speedia-300 rounded-md border-none px-2 py-1 text-center text-sm font-bold lowercase text-white"
		} else {
			class="bg-speedia-500 hover:bg-speedia-300 w-full rounded-md border-none p-3 text-center text-base font-bold lowercase leading-none text-white"
		}
	>
		if icon != "" {
			<i class={ "ph-duotone " + icon + " mr-1 align-middle text-xl" }></i>
		}
		{ label }
	</button>
}

func getBlockableSubmitButtonClasses(denseMode, isBlocked bool) string {
	classes := "w-full rounded-md border-none p-3 text-center text-base font-bold lowercase leading-none text-white"
	if denseMode {
		classes = "rounded-md border-none px-2 py-1 text-center text-sm font-bold lowercase text-white"
	}

	if isBlocked {
		return classes + " bg-gray-500 cursor-default"
	}

	return classes + " bg-speedia-500 hover:bg-speedia-300"
}

templ BlockableSubmitButton(
	label, icon, onClick, blockCondition string,
	denseMode bool,
) {
	<!-- BlockedSubmitButton -->
	<button
		x-show={ blockCondition }
		type="button"
		class={ getBlockableSubmitButtonClasses(denseMode, true) }
	>
		if icon != "" {
			<i class={ "ph-duotone " + icon + " mr-1 align-middle text-xl" }></i>
		}
		{ label }
	</button>
	<!-- NonBlockedSubmitButton -->
	<button
		x-show={ "!" + blockCondition }
		type="submit"
		if onClick != "" {
			@click={ onClick }
		}
		class={ getBlockableSubmitButtonClasses(denseMode, false) }
	>
		if icon != "" {
			<i class={ "ph-duotone " + icon + " mr-1 align-middle text-xl" }></i>
		}
		{ label }
	</button>
}
